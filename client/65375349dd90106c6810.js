(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{155:function(t,e,r){"use strict";r.r(e);r(29);var n={head:function(){return{title:"Room ".concat(this.user.room)}},middleware:["chat"],computed:{user:function(){return this.$store.getters.getUser},messages:function(){return this.$store.getters.getMessages}},data:function(){return{users:[],message:""}},methods:{exit:function(){this.$router.push("/"),this.$store.commit("removeUser")},send:function(){var t=this;this.$socket.emit("message",{id:this.user.id,name:this.user.name,text:this.message},(function(data){if(data.loaded)for(var e=document.getElementsByClassName("messages__message"),i=0;i<=e.length-1;i++)e[i].getAttribute("data-id")===t.user.id&&e[i].classList.add("owner")})),this.message=""}}},o=r(26),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chat"},[r("div",{staticClass:"chat__users"},[t._v("123")]),t._v(" "),r("div",{staticClass:"chat__dialog"},[r("div",{staticClass:"chat__title"},[t._v("Пользователь - "+t._s(t.user.name)+" в комнате "+t._s(t.user.room))]),t._v(" "),r("div",{staticClass:"chat__wrapper"},[r("div",{staticClass:"dialog__messages",attrs:{id:"messages"}},t._l(t.messages,(function(e){return r("div",{staticClass:"messages__message",attrs:{"data-id":e.id}},[r("div",{staticClass:"message__author"},[t._v(t._s(e.name))]),t._v(" "),r("div",[t._v(t._s(e.text))])])})),0)]),t._v(" "),r("form",{staticClass:"chat__form",attrs:{action:"#"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form__field",attrs:{type:"text"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),r("button",{staticClass:"form__btn",attrs:{type:"button"},on:{click:t.send}},[t._v("Отправить")])]),t._v(" "),r("button",{attrs:{type:"button"},on:{click:t.exit}},[t._v("Left chat")])])])}),[],!1,null,null,null);e.default=component.exports}}]);